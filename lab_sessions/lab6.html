

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  

  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/assets/css/just-the-docs-default.css">

  

  
    <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Lab 6 - ROS Navigation (Recap &amp; Costmap) | Robotics101</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Lab 6 - ROS Navigation (Recap &amp; Costmap)" />
<meta name="author" content="Weston Robot" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Course website for Introduction to Practical Robotics" />
<meta property="og:description" content="Course website for Introduction to Practical Robotics" />
<link rel="canonical" href="https://robotics101.westonrobot.net/lab_sessions/lab6" />
<meta property="og:url" content="https://robotics101.westonrobot.net/lab_sessions/lab6" />
<meta property="og:site_name" content="Robotics101" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Lab 6 - ROS Navigation (Recap &amp; Costmap)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Weston Robot"},"description":"Course website for Introduction to Practical Robotics","headline":"Lab 6 - ROS Navigation (Recap &amp; Costmap)","url":"https://robotics101.westonrobot.net/lab_sessions/lab6"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div class="side-bar">
    <div class="site-header">
      <a href="https://robotics101.westonrobot.net/" class="site-title lh-tight">
  Robotics101

</a>
      <a href="#" id="menu-button" class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      
        <ul class="nav-list"><li class="nav-list-item"><a href="https://robotics101.westonrobot.net/index.html" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="https://robotics101.westonrobot.net/syllabus/" class="nav-list-link">Syllabus</a></li><li class="nav-list-item"><a href="https://robotics101.westonrobot.net/schedule/" class="nav-list-link">Schedule</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://robotics101.westonrobot.net/lectures/" class="nav-list-link">Lectures</a><ul class="nav-list "><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lectures/lecture1" class="nav-list-link">Lecture 1 - Introduction to practical robotics</a></li><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lectures/lecture2" class="nav-list-link">Lecture 2 - Python & ROS basics</a></li><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lectures/lecture3" class="nav-list-link">Lecture 3 - Developer tools, project management & robot kinematics</a></li><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lectures/lecture4" class="nav-list-link">Lecture 4 - Gazebo & ROS Navigation (Mapping)</a></li><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lectures/lecture5" class="nav-list-link">Lecture 5 - ActionLib & ROS Navigation (Planning)</a></li><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lectures/lecture6" class="nav-list-link">Lecture 6 - ROS Navigation (Recap & Costmaps)</a></li><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lectures/lecture7" class="nav-list-link">Lecture 7 - Introduction to computer vision with OpenCV</a></li><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lectures/lecture8" class="nav-list-link">Lecture 8 - Introduction to computer vision with Machine/Deep Learning</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://robotics101.westonrobot.net/lab_sessions/" class="nav-list-link">Lab Sessions</a><ul class="nav-list "><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lab_sessions/lab1" class="nav-list-link">Lab 1 - Linux basics & ROS installation</a></li><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lab_sessions/lab2" class="nav-list-link">Lab 2 - Python and ROS basics</a></li><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lab_sessions/lab3" class="nav-list-link">Lab 3 - Using Git & ROS Services</a></li><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lab_sessions/lab4" class="nav-list-link">Lab 4 - Using Gazebo & Mapping</a></li><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lab_sessions/lab5" class="nav-list-link">Lab 5 - ROS Navigation</a></li><li class="nav-list-item  active"><a href="https://robotics101.westonrobot.net/lab_sessions/lab6" class="nav-list-link active">Lab 6 - ROS Navigation (Recap & Costmap)</a></li><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lab_sessions/lab7" class="nav-list-link">Lab 7 - Introduction to computer vision with OpenCV</a></li><li class="nav-list-item "><a href="https://robotics101.westonrobot.net/lab_sessions/lab8" class="nav-list-link">Lab 8 - Introduction to computer vision with ML/DL</a></li></ul></li><li class="nav-list-item"><a href="https://robotics101.westonrobot.net/resources/" class="nav-list-link">Resources</a></li></ul>

      
    </nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  </div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
      
        <div class="search">
          <div class="search-input-wrap">
            <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Robotics101" aria-label="Search Robotics101" autocomplete="off">
            <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
          </div>
          <div id="search-results" class="search-results"></div>
        </div>
      
      
      
        <nav aria-label="Auxiliary" class="aux-nav">
          <ul class="aux-nav-list">
            
              <li class="aux-nav-list-item">
                <a href="https://www.westonrobot.com/" class="site-button"
                  
                >
                  Weston Robot
                </a>
              </li>
            
              <li class="aux-nav-list-item">
                <a href="https://github.com/westonrobot" class="site-button"
                  
                >
                  GitHub
                </a>
              </li>
            
          </ul>
        </nav>
      
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list">
              
                <li class="breadcrumb-nav-list-item"><a href="https://robotics101.westonrobot.net/lab_sessions/">Lab Sessions</a></li>
              
              <li class="breadcrumb-nav-list-item"><span>Lab 6 - ROS Navigation (Recap & Costmap)</span></li>
            </ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">
        
          <p><strong class="label label-red">Lab 6 submission due on Sunday, 23:59</strong></p>
      <h2 class="no_toc text-delta" id="table-of-contents">
        
        
          <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents
        
        
      </h2>
    

<ul id="markdown-toc">
  <li><a href="#prelab-1" id="markdown-toc-prelab-1">Prelab (1%)</a>    <ul>
      <li><a href="#start-of-lab" id="markdown-toc-start-of-lab">Start of Lab</a></li>
      <li><a href="#readings" id="markdown-toc-readings">Readings</a></li>
      <li><a href="#materials" id="markdown-toc-materials">Materials</a></li>
    </ul>
  </li>
  <li><a href="#setup" id="markdown-toc-setup">Setup</a>    <ul>
      <li><a href="#lab-report-and-submission" id="markdown-toc-lab-report-and-submission">Lab Report and Submission</a></li>
      <li><a href="#learning-outcomes" id="markdown-toc-learning-outcomes">Learning Outcomes</a></li>
    </ul>
  </li>
  <li><a href="#lab-6-4" id="markdown-toc-lab-6-4">Lab 6 (4%)</a>    <ul>
      <li><a href="#recap" id="markdown-toc-recap">Recap</a>        <ul>
          <li><a href="#task-1-mapping-of-a-real-life-environment" id="markdown-toc-task-1-mapping-of-a-real-life-environment"><strong class="label label-green">Task 1: Mapping of a real-life environment</strong></a></li>
          <li><a href="#task-2-navigation-of-a-real-life-environment" id="markdown-toc-task-2-navigation-of-a-real-life-environment"><strong class="label label-green">Task 2: Navigation of a real-life environment</strong></a></li>
        </ul>
      </li>
      <li><a href="#map-manipulation" id="markdown-toc-map-manipulation">Map manipulation</a>        <ul>
          <li><a href="#task-3-costmap-manipulation" id="markdown-toc-task-3-costmap-manipulation"><strong class="label label-green">Task 3: (Cost)Map Manipulation</strong></a></li>
        </ul>
      </li>
      <li><a href="#submission" id="markdown-toc-submission">Submission</a></li>
    </ul>
  </li>
</ul>
      <h1 id="prelab-1">
        
        
          <a href="#prelab-1" class="anchor-heading" aria-labelledby="prelab-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prelab (1%)
        
        
      </h1>
    
      <h2 id="start-of-lab">
        
        
          <a href="#start-of-lab" class="anchor-heading" aria-labelledby="start-of-lab"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Start of Lab
        
        
      </h2>
    
<ol>
  <li>We will have a short MCQ quiz on concepts that have been covered in the lecture and those that will be needed during this lab session, concepts covered will be from the readings found below.</li>
</ol>
      <h2 id="readings">
        
        
          <a href="#readings" class="anchor-heading" aria-labelledby="readings"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Readings
        
        
      </h2>
    
<ol>
  <li><a href="http://wiki.ros.org/navigation/Tutorials/RobotSetup">ROS Navigation - Setup</a></li>
  <li><a href="http://wiki.ros.org/amcl">ROS Navigation - AMCL</a></li>
  <li><a href="http://wiki.ros.org/move_base">ROS Navigation - Move_base</a></li>
  <li><a href="http://wiki.ros.org/map_server">ROS Navigation - Map_Server</a></li>
  <li><a href="https://brilliant.org/wiki/a-star-search/">A* Algorithm</a></li>
  <li><a href="https://www.geeksforgeeks.org/dijkstras-shortest-path-algorithm-greedy-algo-7/">Dijkstra’s Algorithm</a></li>
</ol>
      <h2 id="materials">
        
        
          <a href="#materials" class="anchor-heading" aria-labelledby="materials"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Materials
        
        
      </h2>
    <hr />
      <h1 id="setup">
        
        
          <a href="#setup" class="anchor-heading" aria-labelledby="setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setup
        
        
      </h1>
    
<ul>
  <li>Be in your teams of 5</li>
  <li>Tasks &amp; report should be performed by all <strong>group members individually</strong> unless told otherwise.</li>
</ul>
      <h2 id="lab-report-and-submission">
        
        
          <a href="#lab-report-and-submission" class="anchor-heading" aria-labelledby="lab-report-and-submission"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Lab Report and Submission
        
        
      </h2>
    
<ul>
  <li>Throughout this lab, there are tasks that you are supposed to perform and record observations/deductions.</li>
  <li>You can share common experimental data, but not explanations, code or deductions for the lab report.</li>
  <li>Discrepancies between report results and code submissions are liable for loss of marks.</li>
  <li>Each task will be clearly labelled and will need to be included in your lab report, which is in the format “<strong>lab6_report_team_&lt;TEAM_ID&gt;.doc / pdf</strong>”, include your name, student_id at the beginning of the report.</li>
  <li>Zip up your lab report and other requirements (if present) and name it “<strong>lab6_team_&lt;TEAM_ID&gt;.zip</strong>” and upload it.</li>
</ul>
      <h2 id="learning-outcomes">
        
        
          <a href="#learning-outcomes" class="anchor-heading" aria-labelledby="learning-outcomes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Learning Outcomes
        
        
      </h2>
    
<p>By the end of lab 6, you will have:</p>
<ol>
  <li>Recapped what you have learnt over the last 4 labs.</li>
  <li>Navigated your limo robot through an real-life environment</li>
  <li>Learnt how to manipulate the planners’ costmap by editing the map.</li>
</ol><hr />
      <h1 id="lab-6-4">
        
        
          <a href="#lab-6-4" class="anchor-heading" aria-labelledby="lab-6-4"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Lab 6 (4%)
        
        
      </h1>
    

<p>Today’s lab will be done as a team, therefore each team will only have to create 1 report for this lab. However, each member will still need to submit that same report <strong>individually</strong> on the submission page.</p>
      <h2 id="recap">
        
        
          <a href="#recap" class="anchor-heading" aria-labelledby="recap"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Recap
        
        
      </h2>
    
<p>Over the past few labs, you have mapped and navigated through a virtual gazebo environment. Today we will attempt to do the same in a real-life environment.</p>
      <h3 id="task-1-mapping-of-a-real-life-environment">
        
        
          <a href="#task-1-mapping-of-a-real-life-environment" class="anchor-heading" aria-labelledby="task-1-mapping-of-a-real-life-environment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong class="label label-green">Task 1: Mapping of a real-life environment</strong>
        
        
      </h3>
    
<p>For this task, each team is tasked to use the limo robot to map a section of your classroom(or any area of your choosing). The section and size of your map is up to each team, but try to map an area big enough for the limo to move and navigate through. Since the area might be chaotic, the generated map do not have to be very clean. We can fix that further down this lab.</p>

<ul>
  <li><strong class="label label-blue">Task 1a</strong>Include the generated map and pictures of the real-life space with your report.</li>
</ul>
      <h3 id="task-2-navigation-of-a-real-life-environment">
        
        
          <a href="#task-2-navigation-of-a-real-life-environment" class="anchor-heading" aria-labelledby="task-2-navigation-of-a-real-life-environment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong class="label label-green">Task 2: Navigation of a real-life environment</strong>
        
        
      </h3>
    
<p>Using the map you have generated and the limo_navigator node you have made in lab 5 task 2 (You can choose among your members), navigate the limo through 4 different way-points through your environment by running the navigator node on your computer.</p>

<ul>
  <li><strong class="label label-blue">Task 2a</strong>Pick 4 way-points and list these in your report.</li>
  <li><strong class="label label-blue">Task 2b</strong>Take a video of your limo navigating through these 4 way-points and a screen recording of the rviz window showing the navigation. Include these 2 videos with your submissions, name them as task2_limo and task2_screen.</li>
</ul>
      <h2 id="map-manipulation">
        
        
          <a href="#map-manipulation" class="anchor-heading" aria-labelledby="map-manipulation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Map manipulation
        
        
      </h2>
    
      <h3 id="task-3-costmap-manipulation">
        
        
          <a href="#task-3-costmap-manipulation" class="anchor-heading" aria-labelledby="task-3-costmap-manipulation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong class="label label-green">Task 3: (Cost)Map Manipulation</strong>
        
        
      </h3>
    
<p>There are many reason why we would have to manipulate a map, from a cleaning up a “messy” map to “dis-allowing” movement within a certain space.</p>

<p>The map uses primarily uses 3 colours to denote different types of “spaces” or “cells”…</p>
<ol>
  <li>White denotes “free space” where the robot can freely move in.</li>
  <li>Black denotes “occupied space” or “obstacles” where the robot cannot move in.</li>
  <li>Gray denotes “no data” meaning we do not know what is in that space.</li>
</ol>

<p>By editing the map (.pgm) file, we can indirectly influence the global/local planners’ <em>static costmaps</em>. This in turn affects how these planners plan and navigate through the environment.</p>

<ul>
  <li><strong class="label label-blue">Task 3a</strong>Using a image editing software, remove any obstacles in your map that should not be there (these includes things like obstacles that are no longer there, people’s feet etc…). Include this new map with your report, name it as cleaned_map.pgm.
    <ul>
      <li>You can use any editing software you are familiar with, a software that can be apt installed and relatively easy to use on ubuntu is gimp.</li>
    </ul>
  </li>
  <li><strong class="label label-blue">Task 3b</strong>Between any 2 consecutive way-points chosen in task 2a, draw a wall obstacle that will cause the limo to navigate around this wall. Include this new map with your report, name it as added_obstacle_map.pgm.</li>
  <li><strong class="label label-blue">Task 3c</strong>Rerun task 2b with the new map in task 3b (You might need to rename the new map to the original name to run it.). Include these 2 videos with your submissions, name them as task3_limo and task3_screen.</li>
</ul>
      <h2 id="submission">
        
        
          <a href="#submission" class="anchor-heading" aria-labelledby="submission"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Submission
        
        
      </h2>
    
<p>Zip up your lab report into a zip file called “<strong>lab6_team_&lt;TEAM_ID&gt;.zip</strong>” and submit by Sunday, 23:59.</p>

        

        

        
        

      </div>
    </div>

    
      

      <div class="search-overlay"></div>
    
  </div>
</body>
</html>

